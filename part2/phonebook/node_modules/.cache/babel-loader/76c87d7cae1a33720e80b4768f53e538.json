{"ast":null,"code":"var _jsxFileName = \"/Users/suling/Documents/GitHub/fullstackopen/part2/phonebook/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport DisplayPersons from './components/DisplayPersons';\nimport axios from 'axios';\nimport handleService from './services/Handle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const backendURL = \"http://localhost:3001/persons\";\n  useEffect(() => {\n    // console.log('test 2', handleService.getAll(backendURL))\n    handleService.getAll(backendURL).then(returnData => {\n      console.log('test 4', returnData);\n      setPersons(returnData);\n    });\n    console.log('test 3', persons);\n  }, []);\n  useEffect(() => {\n    console.log(filter);\n  }, [filter]);\n\n  const test = text => {\n    console.log(text);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }; //false is no duplicates (based on name)\n\n    if (checkDuplicates(personObject) === false) {\n      // setPersons(persons.concat(personObject))\n      //setPersons(persons.handleService(backendURL))\n      // axios\n      //   .post('http://localhost:3001/persons',personObject)\n      //   .then(response => {\n      //     //alert(`${response.data.name} was added!`)\n      //     console.log('test 1',response.data)\n      //     setPersons(persons.concat(response.data))\n      //   })\n      handleService.add(backendURL, personObject).then(returnData => {\n        console.log('test 6', returnData);\n        checkDuplicates(returnData) === false && setPersons(persons.concat(returnData));\n      });\n    } else {\n      alert(`${personObject.name} is already added to phonebook`);\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleInputChange = event => {\n    switch (event.target.id) {\n      case 'name':\n        setNewName(event.target.value);\n        break;\n\n      case 'number':\n        setNewNumber(event.target.value);\n        break;\n\n      case 'filter':\n        setFilter(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const checkDuplicates = personObject => {\n    console.log('test 5', personObject);\n    const result = persons.some(person => person.name === personObject.name);\n    return result;\n  };\n\n  const deleteContact = personObject => {\n    handleService.deleteContact(backendURL, personObject).then(returnData => {\n      console.log('return data', returnData);\n      setPersons(persons.filter(person => person.id != personObject.id));\n      console.log('contact list', persons);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      onChange: handleInputChange,\n      value: filter,\n      id: \"filter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      onChange: handleInputChange,\n      nameValue: newName,\n      numberValue: newNumber,\n      onSubmit: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DisplayPersons, {\n      persons: persons,\n      filter: filter,\n      onClick: deleteContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"+w801id3U872FdiptNdXXBMc7f4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Filter","PersonForm","DisplayPersons","axios","handleService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","backendURL","getAll","then","returnData","console","log","test","text","onSubmit","event","preventDefault","personObject","name","number","checkDuplicates","add","concat","alert","handleInputChange","target","id","value","result","some","person","deleteContact"],"sources":["/Users/suling/Documents/GitHub/fullstackopen/part2/phonebook/src/App.js"],"sourcesContent":["import { useState } from 'react'\nimport { useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport DisplayPersons from './components/DisplayPersons'\nimport axios from 'axios'\nimport handleService from './services/Handle'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const backendURL = \"http://localhost:3001/persons\"\n\n  useEffect(() => {\n    // console.log('test 2', handleService.getAll(backendURL))\n    handleService.getAll(backendURL)\n      .then(returnData => {\n        console.log('test 4',returnData)\n        setPersons(returnData)\n      })\n    console.log('test 3', persons)\n  }, [])\n  \n  useEffect(() => {\n    console.log(filter)\n  },[filter])\n  \n  const test = (text) => {\n    console.log(text)\n  }\n\n  const onSubmit = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name:newName,\n      number:newNumber\n    }\n\n     //false is no duplicates (based on name)\n    if (checkDuplicates(personObject) === false)\n    {\n      // setPersons(persons.concat(personObject))\n      //setPersons(persons.handleService(backendURL))\n      // axios\n      //   .post('http://localhost:3001/persons',personObject)\n      //   .then(response => {\n      //     //alert(`${response.data.name} was added!`)\n      //     console.log('test 1',response.data)\n      //     setPersons(persons.concat(response.data))\n      //   })\n      handleService\n        .add(backendURL,personObject)\n        .then(returnData => {\n          console.log('test 6',returnData)\n          checkDuplicates(returnData)===false && setPersons(persons.concat(returnData))})\n    }\n    else{\n      alert(`${personObject.name} is already added to phonebook`)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleInputChange = (event) => {\n    switch (event.target.id) {\n      case 'name':\n        setNewName(event.target.value);\n        break;\n      case 'number':\n        setNewNumber(event.target.value);\n        break;\n      case 'filter':\n        setFilter(event.target.value);\n        break;\n      default:\n        break;\n    }\n  }\n\n  const checkDuplicates  = (personObject) => {\n    console.log('test 5',personObject)\n    const result = persons.some((person) => person.name === personObject.name);\n    return result\n  }\n\n  const deleteContact = (personObject) => {\n    handleService\n      .deleteContact(backendURL,personObject)\n      .then(returnData => {\n        console.log('return data',returnData)\n        setPersons(persons.filter(person => person.id != personObject.id))\n        console.log('contact list',persons)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter onChange={handleInputChange} value={filter} id='filter' />\n      <h2>add a new</h2>\n      <PersonForm onChange={handleInputChange} nameValue={newName} numberValue={newNumber} onSubmit={onSubmit}/>\n      <h2>Numbers</h2>\n      <DisplayPersons persons={persons} filter={filter} onClick={deleteContact}/>\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}