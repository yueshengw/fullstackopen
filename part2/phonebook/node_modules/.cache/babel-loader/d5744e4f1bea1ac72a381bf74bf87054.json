{"ast":null,"code":"var _jsxFileName = \"/Users/suling/Documents/GitHub/fullstackopen/part2/phonebook/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport DisplayPersons from './components/DisplayPersons';\nimport axios from 'axios';\nimport handleService from './services/Handle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const backendURL = \"http://localhost:3001/persons\";\n  useEffect(() => {\n    console.log('test 2', handleService.getAll(backendURL));\n    handleService.getAll(backendURL).then(returnPerson => console.log(returnPerson));\n    setPersons(handleService.getAll(backendURL));\n    console.log('test 3', persons);\n  }, []);\n  useEffect(() => {\n    console.log(filter);\n  }, [filter]);\n\n  const test = text => {\n    console.log(text);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }; //false is no duplicates (based on name)\n\n    if (checkDuplicates(personObject) === false) {\n      // setPersons(persons.concat(personObject))\n      //setPersons(persons.handleService(backendURL))\n      axios.post('http://localhost:3001/persons', personObject).then(response => {\n        //alert(`${response.data.name} was added!`)\n        console.log('test 1', response.data);\n        setPersons(persons.concat(response.data));\n      });\n    } else {\n      alert(`${personObject.name} is already added to phonebook`);\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleInputChange = event => {\n    switch (event.target.id) {\n      case 'name':\n        setNewName(event.target.value);\n        break;\n\n      case 'number':\n        setNewNumber(event.target.value);\n        break;\n\n      case 'filter':\n        setFilter(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const checkDuplicates = personObject => {\n    const result = persons.some(person => {\n      return person.name === personObject.name;\n    });\n    return result;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      onChange: handleInputChange,\n      value: filter,\n      id: \"filter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      onChange: handleInputChange,\n      nameValue: newName,\n      numberValue: newNumber,\n      onSubmit: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"+w801id3U872FdiptNdXXBMc7f4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Filter","PersonForm","DisplayPersons","axios","handleService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","backendURL","console","log","getAll","then","returnPerson","test","text","onSubmit","event","preventDefault","personObject","name","number","checkDuplicates","post","response","data","concat","alert","handleInputChange","target","id","value","result","some","person"],"sources":["/Users/suling/Documents/GitHub/fullstackopen/part2/phonebook/src/App.js"],"sourcesContent":["import { useState } from 'react'\nimport { useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport DisplayPersons from './components/DisplayPersons'\nimport axios from 'axios'\nimport handleService from './services/Handle'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const backendURL = \"http://localhost:3001/persons\"\n\n  useEffect(() => {\n    console.log('test 2', handleService.getAll(backendURL))\n    handleService.getAll(backendURL)\n      .then(returnPerson => console.log(returnPerson))\n    setPersons(handleService.getAll(backendURL))\n    console.log('test 3', persons)\n  }, [])\n  \n  useEffect(() => {\n    console.log(filter)\n  },[filter])\n  \n  const test = (text) => {\n    console.log(text)\n  }\n\n  const onSubmit = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name:newName,\n      number:newNumber\n    }\n\n     //false is no duplicates (based on name)\n    if (checkDuplicates(personObject) === false)\n    {\n      // setPersons(persons.concat(personObject))\n      //setPersons(persons.handleService(backendURL))\n      axios\n        .post('http://localhost:3001/persons',personObject)\n        .then(response => {\n          //alert(`${response.data.name} was added!`)\n          console.log('test 1',response.data)\n          setPersons(persons.concat(response.data))\n        })\n    }\n    else{\n      alert(`${personObject.name} is already added to phonebook`)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleInputChange = (event) => {\n    switch (event.target.id) {\n      case 'name':\n        setNewName(event.target.value);\n        break;\n      case 'number':\n        setNewNumber(event.target.value);\n        break;\n      case 'filter':\n        setFilter(event.target.value);\n        break;\n      default:\n        break;\n    }\n  }\n\n  const checkDuplicates  = (personObject) => {\n    const result = persons.some((person) => {\n      return person.name === personObject.name\n    });\n    return result\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter onChange={handleInputChange} value={filter} id='filter' />\n      <h2>add a new</h2>\n      <PersonForm onChange={handleInputChange} nameValue={newName} numberValue={newNumber} onSubmit={onSubmit}/>\n      <h2>Numbers</h2>\n      {/* <DisplayPersons persons={persons} filter={filter}/> */}\n    </div>\n  )\n}\n\nexport default App"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,mBAA1B;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACc,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;EACA,MAAMgB,UAAU,GAAG,+BAAnB;EAEAf,SAAS,CAAC,MAAM;IACdgB,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBZ,aAAa,CAACa,MAAd,CAAqBH,UAArB,CAAtB;IACAV,aAAa,CAACa,MAAd,CAAqBH,UAArB,EACGI,IADH,CACQC,YAAY,IAAIJ,OAAO,CAACC,GAAR,CAAYG,YAAZ,CADxB;IAEAZ,UAAU,CAACH,aAAa,CAACa,MAAd,CAAqBH,UAArB,CAAD,CAAV;IACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBV,OAAtB;EACD,CANQ,EAMN,EANM,CAAT;EAQAP,SAAS,CAAC,MAAM;IACdgB,OAAO,CAACC,GAAR,CAAYJ,MAAZ;EACD,CAFQ,EAEP,CAACA,MAAD,CAFO,CAAT;;EAIA,MAAMQ,IAAI,GAAIC,IAAD,IAAU;IACrBN,OAAO,CAACC,GAAR,CAAYK,IAAZ;EACD,CAFD;;EAIA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;IAC1BA,KAAK,CAACC,cAAN;IACA,MAAMC,YAAY,GAAG;MACnBC,IAAI,EAAClB,OADc;MAEnBmB,MAAM,EAACjB;IAFY,CAArB,CAF0B,CAOzB;;IACD,IAAIkB,eAAe,CAACH,YAAD,CAAf,KAAkC,KAAtC,EACA;MACE;MACA;MACAtB,KAAK,CACF0B,IADH,CACQ,+BADR,EACwCJ,YADxC,EAEGP,IAFH,CAEQY,QAAQ,IAAI;QAChB;QACAf,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBc,QAAQ,CAACC,IAA9B;QACAxB,UAAU,CAACD,OAAO,CAAC0B,MAAR,CAAeF,QAAQ,CAACC,IAAxB,CAAD,CAAV;MACD,CANH;IAOD,CAXD,MAYI;MACFE,KAAK,CAAE,GAAER,YAAY,CAACC,IAAK,gCAAtB,CAAL;IACD;;IACDjB,UAAU,CAAC,EAAD,CAAV;IACAE,YAAY,CAAC,EAAD,CAAZ;EACD,CAzBD;;EA2BA,MAAMuB,iBAAiB,GAAIX,KAAD,IAAW;IACnC,QAAQA,KAAK,CAACY,MAAN,CAAaC,EAArB;MACE,KAAK,MAAL;QACE3B,UAAU,CAACc,KAAK,CAACY,MAAN,CAAaE,KAAd,CAAV;QACA;;MACF,KAAK,QAAL;QACE1B,YAAY,CAACY,KAAK,CAACY,MAAN,CAAaE,KAAd,CAAZ;QACA;;MACF,KAAK,QAAL;QACExB,SAAS,CAACU,KAAK,CAACY,MAAN,CAAaE,KAAd,CAAT;QACA;;MACF;QACE;IAXJ;EAaD,CAdD;;EAgBA,MAAMT,eAAe,GAAKH,YAAD,IAAkB;IACzC,MAAMa,MAAM,GAAGhC,OAAO,CAACiC,IAAR,CAAcC,MAAD,IAAY;MACtC,OAAOA,MAAM,CAACd,IAAP,KAAgBD,YAAY,CAACC,IAApC;IACD,CAFc,CAAf;IAGA,OAAOY,MAAP;EACD,CALD;;EAOA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,MAAD;MAAQ,QAAQ,EAAEJ,iBAAlB;MAAqC,KAAK,EAAEtB,MAA5C;MAAoD,EAAE,EAAC;IAAvD;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE,QAAC,UAAD;MAAY,QAAQ,EAAEsB,iBAAtB;MAAyC,SAAS,EAAE1B,OAApD;MAA6D,WAAW,EAAEE,SAA1E;MAAqF,QAAQ,EAAEY;IAA/F;MAAA;MAAA;MAAA;IAAA,QAJF,eAKE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD,CAnFD;;GAAMjB,G;;KAAAA,G;AAqFN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}